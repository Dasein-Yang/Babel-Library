# 20200702 项目经验总结

截止到今天，强化学习加协同进化的项目基本快结束了，过去一年在这个项目上走了不少弯路，到今天看来如果早点有这些工程经验，可以节省相当多时间，也可以早点解决问题。

我参与的部分大致时间线如下：

-   9月份 文献调研
-   10-11月份 CES复现和实验
-   12-2月份 NCNES 代码和调参
-   3月份 NCNES收尾工作、Goexplore 复现
-   4月份 NCSRE 代码和调参
-   5月份 Goexplore 复现工作
-   6月份 Goexplore 复现工作和 Pitfall 转向监督学习

其中主要卡住的部分是1-2月份 NCNES 调参和5-6月份 Goexplore 复现阶段，当然，一部分是由于心理状态问题，比如1月底、2月初几乎没有心思花在科研上，6月初也是如此。在较为顺利的阶段，如NCSRE部分的开发中，就发现很多问题，大致可以总结为以下三个方面：

### 沟通交流

与@YYL和@LMJ私下沟通不足，文档共同撰写只是相互传递，但是代码上几乎没有沟通好所以导致原本束于同一个NCS框架下的算法，采用了两种不同的框架和三种写法，其中大量模块可以复用，而且模块化更方便调试和开发新的算法。在NCSRE中，采用了@YYL NCSCC的模块类改一改overwrite大幅简化了开发流程，而但是我和@LMJ采用的算法几乎都是采用函数式整段写法，调试困难，而且每个新算法都重新写起。@LMJ的问题是代码书写风格非常不便于交流，无注释且命名奇怪，不容易看懂。同时，由于沟通不足，我在前期强化学习环境交互和配置中花了很多时间但效率非常低。另外最终提交代码时代码风格注释风格各不一样，也不像是一个符合规范的优质工程。

经验：

-   加强组内沟通，减少重复做功
-   代码模块化，保持代码统一以减少重复做功
-   代码注释文档规范化，以实现第一点组内沟通

### 项目流程

从老板这里看到了一个解决问题的流程，实现一个总目标，就分成几个方向一步步改进，从最容易的努力——NCS基本框架，NCNES算法提高并行度，NCSRE降维，NCSCC协同进化。

项目流程，先找到baseline复现，观察本类方法是否可行。在可行的基础上，统一实验对照组标准，实现逐步改进和对照解决问题。

### 学会技能

-   pytorch /tensorflow 入门
-   gym 强化学习环境交互平台
-   MPI , horovod, multiprocess 并行库及其编程通信原理
-   project 结构、文档、代码注释规范、风格
-   linux 熟练基本操作、bash 脚本和服务器连接使用
-   python 项目搭建的基本功能和写法 log, args, debug，visualize, pickle, save 等  
-   git 和 github 熟练使用
-   docker conda pip 环境配置迁移熟练使用
-   调参的基本方法和 debug 技巧
-   python 初步的代码优化技巧

不会的有：

-   Gpu 运算的配置原理
-   debug 技巧
-   调参技巧和 trick 使用
-   以上所有技巧的熟练和进阶使用

经验教训：

-   早期没有总结笔记的时候日依赖百度过多，应当自己拥有好的代码片段库，日常更新并复习，习惯自己的一套高度可复用代码，加快开发流程。
-   熟练使用 github 资源，多阅读优质源码示例，多进行源码的单元测试熟悉后再改自己的代码
-   多用小单元、独立性强的模块实现，模块间多输出信息调试，最后才改成终版
-   尝试使用多语言，积累语言特性，C，GO，不仅仅使用 python